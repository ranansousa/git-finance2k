
--SO SBBA

DELETE FROM SERVIDOR_EMAIL WHERE 1=1;

INSERT INTO SERVIDOR_EMAIL (ID_SERVIDOR_EMAIL, HOST, REQUER_AUTENTICACAO, REMETENTE, LOGIN, SENHA, ID_ORGANIZACAO, PORTA) VALUES ('d193d51f-a7eb-4ec5-a7e7-d5faa2fbc324', 'mail.pempec.com.br', 1, 'finance_sbba@pempec.com.br', 'finance_sbba@pempec.com.br', 'fnc2k@2020', 'SBBA', '465');

update conta_bancaria c set c.ativo = 1 where 1=1;

COMMIT WORK;


ALTER TABLE CONTA_BANCARIA_DEBITO DROP CONSTRAINT UNQ2_CONTA_BANCARIA_DEBITO;

ALTER TABLE BANCO DROP CONSTRAINT UNQ2_BANCO;

ALTER TABLE CONTA_BANCARIA_DEBITO DROP CONSTRAINT UNQ1_CONTA_BANCARIA_DEBITO;

ALTER TABLE BANCO DROP CONSTRAINT UNQ1_BANCO;

ALTER TABLE USUARIO_ACTION DROP CONSTRAINT PK_USUARIO_ACTION;

ALTER TABLE GRUPO_USUARIO DROP CONSTRAINT PK_GRUPO_USUARIO;

ALTER TABLE GRUPO_ACTION DROP CONSTRAINT PK_GRUPO_ACTION;

ALTER TABLE TITULO_RECEBER_BAIXA_INTERNET DROP CONSTRAINT FK_TRB_BAIXA_WWW_4;

ALTER TABLE TITULO_RECEBER_BAIXA_CHEQUE DROP CONSTRAINT FK_TRB_BAIXA_CH_BCO;

ALTER TABLE TITULO_RECEBER DROP CONSTRAINT FK_TR_NF_EMITIDA;

ALTER TABLE TITULO_PAGAR_BAIXA_INTERNET DROP CONSTRAINT FK_TPB_INTERNET_BCO;

ALTER TABLE TITULO_PAGAR DROP CONSTRAINT FK_TP_HISTORICO;

ALTER TABLE TITULO_PAGAR DROP CONSTRAINT FK_TITULO_PAGAR_9;

ALTER TABLE TITULO_PAGAR DROP CONSTRAINT FK_TITULO_PAGAR_8;

ALTER TABLE TITULO_PAGAR DROP CONSTRAINT FK_TITULO_PAGAR_4;

ALTER TABLE TITULO_PAGAR DROP CONSTRAINT FK_TITULO_PAGAR_11;

ALTER TABLE TITULO_PAGAR DROP CONSTRAINT FK_TITULO_PAGAR_10;

ALTER TABLE TESOURARIA_DEBITO DROP CONSTRAINT FK_TESOURARIA_DEBITO_8;

ALTER TABLE TESOURARIA_CREDITO DROP CONSTRAINT FK_TESOURARIA_CREDITO_9;

ALTER TABLE TESOURARIA_DEBITO DROP CONSTRAINT FK_TD_CBC;

ALTER TABLE SACADO DROP CONSTRAINT FK_SACADO_3;

ALTER TABLE SACADO DROP CONSTRAINT FK_SACADO_2;

ALTER TABLE LOTE_CONTABIL DROP CONSTRAINT FK_LOTE_CONTABIL_2;

ALTER TABLE LOTE_CONTABIL DROP CONSTRAINT FK_LOTE_CONTABIL_1;

ALTER TABLE CONTA_BANCARIA_TRANSFERENCIA DROP CONSTRAINT FK_CONTA_BANCARIA_TRANSF_7;

ALTER TABLE CONTA_BANCARIA_TRANSFERENCIA DROP CONSTRAINT FK_CONTA_BANCARIA_TRANSF_4;

ALTER TABLE CONTA_BANCARIA_CREDITO DROP CONSTRAINT FK_CONTA_BANCARIA_CREDITO_8;

ALTER TABLE CONTA_BANCARIA_CHEQUE DROP CONSTRAINT FK_CONTA_BANCARIA_CHEQUE_4;

ALTER TABLE CEDENTE DROP CONSTRAINT FK_CEDENTE_4;

ALTER TABLE CEDENTE DROP CONSTRAINT FK_CEDENTE_3;

ALTER TABLE BACKUP DROP CONSTRAINT FK_BACKUP_2;

ALTER TABLE CONTA_BANCARIA ADD ATIVO INTEGER DEFAULT 1;

ALTER TABLE FUNCIONARIO ADD ATIVO INTEGER DEFAULT 1;

ALTER TABLE MOVIMENTO_DIARIO ADD DATA_OPERACAO TIMESTAMP;

ALTER TABLE ORGANIZACAO ADD VERSAO2K VARCHAR(30) CHARACTER SET ISO8859_1;

ALTER TABLE TITULO_PAGAR ADD ID_PATRIMONIO INTEGER;

ALTER TABLE USUARIO ADD USER_WINDOWS VARCHAR(254);

ALTER TABLE USUARIO ADD NAME_HOST VARCHAR(254);

ALTER TABLE USUARIO ADD IP_HOST VARCHAR(64);

ALTER TABLE USUARIO ADD LA SMALLINT DEFAULT 0;

/* Create Unique... */
ALTER TABLE CEDENTE ADD CONSTRAINT UNQ1_CEDENTE UNIQUE (CODIGO);

ALTER TABLE SACADO ADD CONSTRAINT UNQ1_SACADO UNIQUE (CODIGO);

/* Create Foreign Key... */
RECONNECT;

ALTER TABLE CEDENTE ADD CONSTRAINT FK_CEDENTE_3 FOREIGN KEY (ID_ENDERECO, ID_ORGANIZACAO) REFERENCES ENDERECO (ID_ENDERECO, ID_ORGANIZACAO) ON DELETE CASCADE;

ALTER TABLE CEDENTE ADD CONSTRAINT FK_CEDENTE_4 FOREIGN KEY (ID_CONTATO, ID_ORGANIZACAO) REFERENCES CONTATO (ID_CONTATO, ID_ORGANIZACAO) ON DELETE CASCADE;

ALTER TABLE CONTA_BANCARIA_TRANSFERENCIA ADD CONSTRAINT FK_CONTA_BANCARIA_TRANSF_4 FOREIGN KEY (ID_CONTA_BANCARIA_CREDITO, ID_ORGANIZACAO) REFERENCES CONTA_BANCARIA_CREDITO (ID_CONTA_BANCARIA_CREDITO, ID_ORGANIZACAO) ON DELETE CASCADE;

ALTER TABLE CONTA_BANCARIA_TRANSFERENCIA ADD CONSTRAINT FK_CONTA_BANCARIA_TRANSF_7 FOREIGN KEY (ID_CONTA_BANCARIA_DEBITO, ID_ORGANIZACAO) REFERENCES CONTA_BANCARIA_DEBITO (ID_CONTA_BANCARIA_DEBITO, ID_ORGANIZACAO) ON DELETE CASCADE;

ALTER TABLE LAYOUT_CHEQUE ADD CONSTRAINT FK_LAYOUT_CHEQUE_1 FOREIGN KEY (ID_ORGANIZACAO) REFERENCES ORGANIZACAO (ID_ORGANIZACAO);

ALTER TABLE LAYOUT_CHEQUE ADD CONSTRAINT FK_LAYOUT_CHEQUE_2 FOREIGN KEY (ID_CONTA_BANCARIA, ID_ORGANIZACAO) REFERENCES CONTA_BANCARIA (ID_CONTA_BANCARIA, ID_ORGANIZACAO);

ALTER TABLE SACADO ADD CONSTRAINT FK_SACADO_2 FOREIGN KEY (ID_ENDERECO, ID_ORGANIZACAO) REFERENCES ENDERECO (ID_ENDERECO, ID_ORGANIZACAO) ON DELETE CASCADE;

ALTER TABLE SACADO ADD CONSTRAINT FK_SACADO_3 FOREIGN KEY (ID_CONTATO, ID_ORGANIZACAO) REFERENCES CONTATO (ID_CONTATO, ID_ORGANIZACAO) ON DELETE CASCADE;

ALTER TABLE TESOURARIA_DEBITO ADD CONSTRAINT FK_TESOURARIA_DB_9 FOREIGN KEY (ID_CONTA_BANCARIA_CREDITO, ID_ORGANIZACAO) REFERENCES CONTA_BANCARIA_CREDITO (ID_CONTA_BANCARIA_CREDITO, ID_ORGANIZACAO);

ALTER TABLE TITULO_PAGAR ADD CONSTRAINT FK_TITULO_PAGAR_4 FOREIGN KEY (ID_HISTORICO, ID_ORGANIZACAO) REFERENCES HISTORICO (ID_HISTORICO, ID_ORGANIZACAO);



